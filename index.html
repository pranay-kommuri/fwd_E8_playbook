<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>playbook</title>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://kit.fontawesome.com/b0f29e9bfe.js" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/3/turn.js" integrity="sha512-9ocft8BVEGO4YnjEW4Tkq0+d3Usuax+GF922LJML/Q5ZLmtu9hgBbUZTxKXAkm+hzIHoC3I+vYha66opI9AuSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    
    <header>
        <img src="./assets/logowithtext.png" alt="logowithtext" class="logo">
        <button class="btnLogin-popup">Sign in</button>
    </header>
    <nav>
        <ul>
            <li><a href="#" id="clicked">Home</a></li>
            <li><a href="./explore.html">Explore</a></li>
            <li><a href="#">Quiz ▼</a>
                <ul class="dropdown">
                    <li><a href="./quizeasy.html">Easy</a></li>
                    <li><a href="./quizmedium.html">Medium</a></li>
                    <li><a href="./quizhard.html">Hard</a></li>
                </ul>
            </li>
            <li><a href="./sourcecode.html">project</a></li>
            <li><a href="./about.html">About us</a></li>
            <li><a href="./contact.html">Contact</a></li>
        </ul>
        <p class="state"></p>
    </nav>


    <div class="wrapper">
        <span class="icon-close"><ion-icon name="close"></ion-icon></span>

        <div class="form-box login">
            <h2>Sign in</h2>
            <form action="/signin" method="POST">
                <div class="input-box">
                    <span class="icon"><ion-icon name="mail"></ion-icon></span>
                    <input type="email" name="email" required>
                    <label>Email</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <input type="password" name="password" required>
                    <label>Password</label>
                </div>
                <div class="remember-forgot">
                    <label><input type="checkbox">Remember me</label>
                    <a href="#">Forgot Password?</a>
                </div>
                <button type="submit" class="btn">Sign in</button>
                <div class="login-register">
                    <p>Don't have an account? <a href="#" class="register-link">Sign up</a></p>
                </div>
            </form>            
        </div>

        <div class="form-box register">
            <h2>Sign up</h2>
            <form action="/signup" method="POST">
                <div class="input-box">
                    <span class="icon"><ion-icon name="person"></ion-icon></span>
                    <input type="text" name="username" required>
                    <label>Username</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="mail"></ion-icon></span>
                    <input type="email" name="email" required>
                    <label>Email</label>
                </div>
                <div class="input-box">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <input type="password" name="password" required>
                    <label>Password</label>
                </div>
                <div class="remember-forgot">
                    <label><input type="checkbox">I agree to the terms and conditions</label>
                </div>
                <button type="submit" class="btn">Sign up</button>
                <div class="login-register">
                    <p>Already have an account? <a href="#" class="login-link">Sign in</a></p>
                </div>
            </form>            
        </div>
    </div>


    <div class="main">
        <div class="content">
            <h1>Thrive in the Indian Heat: Your Playbook for Sporting Success!</h1>
            <p>
                Feel the game, ignite your passion. Every moment on the field is an opportunity to push your limits, conquer challenges, and embrace the thrill of victory. Whether you win or lose, the experience fuels your spirit, driving you to strive harder. Let the game elevate you to greatness!
            </p>
        </div>
        <div class="arrows">
            <button id="prev"><ion-icon name="arrow-back-circle"></ion-icon></button>
            <button id="next"><ion-icon name="arrow-forward-circle"></ion-icon></button>
        </div>
        <div class="flipbook-container">
            <div id="flipbook">
                <div class="page">Playbook <br><small>~by Team E8</small></div>
                <div class="page">
                    <h1>Kabaddi</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img1.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Kho Kho</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img2.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Mallakhamb</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img3.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Pehlwani (Traditional Wrestling)</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img4.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Gilli Danda</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img5.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Atya Patya</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img6.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Astapadham</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img7.jpg" alt="img1"></div>

                <div class="page">
                    <h1>Andhadhun</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed at voluptatem tenetur magni? Porro harum labore quam, temporibus similique, iste cumque voluptates hic quod cum quis dicta est? Provident, in.    
                    </p>
                </div>
                <div class="page"><img src="./assets/exploreimages/img8.jpg" alt="img1"></div>

                <div class="page"></div>
            </div>
        </div>
    </div>
    <section id="s3">
        <h1>Test your knowledge!</h1>
        
        <div class="content3">
            <p>
                Playbook’s interactive quizzes challenge your knowledge while making learning fun and engaging. Test yourself across various topics, receive instant feedback, and track your progress.<br>
                Designed to educate and entertain, these quizzes are perfect for users seeking to explore, improve, and enjoy a dynamic learning experience tailored to their interests.
            </p>
        </div>
        <ul>
            <li><div class="easy"><a href="./quizeasy.html"><img src="./assets/easy.png" alt="Easy">Easy</a></div></li>
            <li><div class="medium"><a href="./quizmedium.html"><img src="./assets/medium.png" alt="Medium">Medium</a></div></li>
            <li><div class="hard"><a href="./quizhard.html"><img src="./assets/hard.png" alt="Hard">Hard</a></div></li>
        </ul>
    </section>
    
    <section id="s2">
        <h1>About this website</h1><br>
        <div class="rt">
            <p>
                Playbook is a platform celebrating India’s traditional sports like Kabaddi, Kho-Kho, and Gilli Danda. We aim to preserve their cultural heritage, inspire new generations, and connect communities. Through engaging stories and resources, Playbook bridges tradition and modernity, keeping the spirit of India’s rich sporting legacy alive.
            </p>
            <img src="./assets/kidsplaying.jpg" alt="">
        </div>
    </section>
    <section>
    </section>
    <div class="end">
        <img src="./assets/contactus.gif" alt="Thank you!">
        <div class="rightp">
            <p>We’d love to hear from you! If you have any questions, suggestions, or feedback about Playbook, feel free to reach out. Let’s connect to celebrate and preserve the legacy of traditional Indian sports together.<br>
                
                Email: support@playbook.in<br>
                Phone: +91-12345-67890<br>
                Social Media: Follow us on Facebook, Twitter, and Instagram @PlaybookSports<br>
                
                We’ll get back to you as soon as possible!
            </p>
        </div>
    </div>
    <footer>
        <p>
            Thank you for visiting playbook!
        </p>
    </footer>
    
    <script src="./js/jquery.js"></script>
    <script src="./js/turn.js"></script>
    <script src="./js/app.js"></script>
    <script>
        let next = document.getElementById('next');
        let prev = document.getElementById('prev');
        next.onclick = function(){
            $('#flipbook').turn('next');
        }
        prev.onclick = function(){
            $('#flipbook').turn('previous');
        }
        $(document).ready(function () {
            const totalRealPages = 16; // Total real pages in the flipbook

            // Initialize flipbook
            $('#flipbook').turn({
                width: 550,
                height: 360,
                autoCenter: true,
            });

            // Start at a random real page
            const randomPage = Math.floor(Math.random() * totalRealPages) + 1;
            $('#flipbook').turn('page', randomPage + 1); // +1 accounts for the initial placeholder page

            // Circular navigation logic with dynamic page assignment
            $('#flipbook').on('turning', function (event, page) {
                const totalPages = $(this).turn('pages');

                if (page === totalPages) {
                    event.preventDefault();
                    $(this).turn('page', 2);
                    return;
                }

                if (page === 1) {
                    event.preventDefault();
                    $(this).turn('page', totalPages - 1);
                    return;
                }

                // Adjust page labels dynamically
                const currentPage = (page - 1) % totalRealPages || totalRealPages;
                const previousPage = currentPage === 1 ? totalRealPages : currentPage - 1;
                const nextPage = currentPage === totalRealPages ? 1 : currentPage + 1;

                console.log(`Current Page: ${currentPage}, Previous Page: ${previousPage}, Next Page: ${nextPage}`);

                // Optionally, you can update the content dynamically here
                // For example, if the page elements need to display the updated page numbers dynamically
            });
        });
        
        let refreshInterval = setInterval(()=>{
            $('#flipbook').turn('next');
        },8000)
    </script>



    <script>// Check if the user is signed in or not when the page loads
        window.onload = function () {
          fetch('/check-session', {
            method: 'GET',
          })
            .then(response => response.json())
            .then(data => {
              if (data.loggedIn) {
                // If the user is logged in, change button text to "Sign out"
                document.querySelector('.btnLogin-popup').innerText = 'Sign out';
                document.querySelector('.state').innerText = `You are signed in as ${data.username}`; // Update <p> tag with username
                // Enable all <a> tags to allow navigation
                enableLinks();
              } else {
                // If the user is not logged in, reset the button text to "Sign in"
                document.querySelector('.btnLogin-popup').innerText = 'Sign in';
                document.querySelector('.state').innerText = 'You are not signed in'; // Update <p> tag text for not signed in state
                // Disable all <a> tags to prompt sign in
                disableLinks();
              }
            })
            .catch(err => console.error('Error checking session:', err));
        };
        
        // Function to enable all <a> tags
        function enableLinks() {
          const links = document.querySelectorAll('a');
          links.forEach(link => {
            link.addEventListener('click', () => {
              // Allow navigation when signed in
            });
          });
        }
        
        // Function to disable all <a> tags and prompt sign in
        function disableLinks() {
          const links = document.querySelectorAll('a');
          links.forEach(link => {
            link.addEventListener('click', (e) => {
              e.preventDefault(); // Prevent default navigation behavior
              showSignInPopup(); // Trigger sign-in window or modal
            });
          });
        }
        
        // Show the sign-in popup/modal (your modal logic here)
        function showSignInPopup() {
          // Implement your modal popup logic here
          alert("Please sign in to access this link.");
        }
        
        // Event listener for the "Sign out" button
        document.querySelector('.btnLogin-popup').addEventListener('click', function (e) {
          // If the button is for "Sign out" and the user is signed in, proceed to sign out
          if (e.target.innerText === 'Sign out') {
            fetch('/signout', {
              method: 'POST',
            })
              .then(response => response.json())
              .then(data => {
                if (data.loggedIn === false) {
                  // If sign-out is successful, update button text and disable it
                  document.querySelector('.btnLogin-popup').innerText = 'Sign in';
                  document.querySelector('p').innerText = 'You are not signed in';  // Update <p> text
                  // Refresh the page to reflect the updated state
                  window.location.reload();  // This will refresh the page
                }
              })
              .catch(err => console.error('Error logging out:', err));
          }
        });
        
      </script>
      
     
</body>
</html>
